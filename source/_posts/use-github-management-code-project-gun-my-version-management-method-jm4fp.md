---
title: ç”¨Githubç®¡ç†ä»£ç é¡¹ç›®ä¸¨æˆ‘çš„ç‰ˆæœ¬ç®¡ç†æ–¹æ³•
date: '2024-11-16 10:50:10'
updated: '2024-11-16 12:14:49'
excerpt: >-
  ç°åœ¨çš„ä»£ç é¡¹ç›®æˆ‘ä¼šåˆ›å»ºä¸€ä¸ªCHANGELOG.mdï¼Œè¿™ä¸ªæ–‡ä»¶æˆ‘ä¼šè®°å½•è‡ªå·±æ¯æ¬¡æ›´æ–°äº†ä»€ä¹ˆï¼Œæ¯ä¸ªç‰ˆæœ¬æ–°å¢äº†ä»€ä¹ˆåŠŸèƒ½ã€ä¿®å¤çš„é”™è¯¯ã€æ”¹è¿›çš„æ€§èƒ½ï¼Œè¿™æ ·å¯ä»¥è®°å½•è¿™ä¸ªä»£ç é¡¹ç›®çš„ç‰ˆæœ¬æ¼”å˜ï¼Œæœ‰ä¸ªæ¸…æ™°çš„å˜æ›´è®°å½•ã€‚æˆ‘ä¹ æƒ¯ä½¿ç”¨Gitmojiï¼Œå³emojiç”¨æ›´æœ‰è¶£ç›´è§‚çš„æ–¹å¼æ¥å¯¹æ¯ä¸ªæ›´æ”¹è¿›è¡Œåˆ†ç±»ã€‚å¯ä»¥ä¸€çœ¼åŒºåˆ†æ˜¯ğŸ›bugï¼Œâœ¨åŠŸèƒ½æ”¹è¿›ï¼Œè¿˜æ˜¯ğŸ“æ–‡æ¡£å®Œå–„ã€‚


  ä¸ºäº†ä¿å­˜æ¯ä¸ªç‰ˆæœ¬é‚£æ—¶çš„ä»£ç ï¼Œæˆ‘è¿˜ä¼šåœ¨æ¯æ¬¡ç‰ˆæœ¬å‘å¸ƒçš„æ—¶å€™ï¼Œæ‰“ä¸Štagã€‚è¿™æ ·ï¼Œæˆ‘åœ¨Githubå°±å¯ä»¥ä¿å­˜æ¯ä¸ªç‰ˆæœ¬çš„å¿«ç…§ï¼Œä¸‡ä¸€æœ‰é—®é¢˜ï¼Œä¹Ÿå¯ä»¥å›æº¯ã€‚


  å¦‚æœæœ‰å¿…è¦ä¹Ÿå¯ä»¥åˆ›å»ºReleaseå‘ç‰ˆï¼Œå¯ä»¥å†™ä¸€ä¸ªGithub Actionåˆ›å»ºæ­¥éª¤ï¼Œæ‰“å®Œæ ‡ç­¾ï¼Œå°±è‡ªåŠ¨å‘ç‰ˆ
tags:
  - Github
categories:
  - ç¼–ç¨‹ç¬”è®°
permalink: >-
  /post/use-github-management-code-project-gun-my-version-management-method-jm4fp.html
comments: true
toc: true
---



æˆ‘ä¹ æƒ¯ç”¨Gitæ¥ç®¡ç†è‡ªå·±çš„ä»£ç é¡¹ç›®ï¼Œç”±äºè‡ªå·±è¿‡å»å‚ä¸å¼€å‘æ€æºç¬”è®°è¿™ä¸ªç¬”è®°è½¯ä»¶çš„çš„ä¸»é¢˜å¤–è§‚ï¼Œæˆ‘éœ€è¦æŠŠå¼€å‘çš„ä¸»é¢˜å¤–è§‚ä»£ç è¦æ”¾åœ¨GitHubä¸Šã€‚å¹¶ä¸”æˆ‘ä¸ä»…ä»…è¦å†™ä»£ç ï¼Œæ›´è¦ç»™æ¯æ¬¡æ›´æ”¹åŠ tagã€å‘ç‰ˆï¼Œæ‰èƒ½è¢«å¤§å®¶ç”¨ä¸Šã€å¤§å®¶æ‰èƒ½çœ‹åˆ°æ›´æ–°ã€‚åé¢æ¸æ¸åœ°ï¼Œè‡ªå·±ä¹Ÿæœ‰äº†ä¸€ç‚¹ç‚¹ä»£ç ç‰ˆæœ¬ç®¡ç†çš„å¿ƒå¾—ã€‚

ä»¥è‡ªå·±å¼€å‘çš„é’™ä¿¡å·æå–è½¯ä»¶ä¸ºä¾‹ï¼Œä»‹ç»ä¸‹è‡ªå·±ç›®å‰çš„ä»£ç ç‰ˆæœ¬ç®¡ç†æ–¹æ³•

â€‹![PixPin_2024-11-16_10-53-20](https://fastly.jsdelivr.net/gh/Achuan-2/PicBed@pic/assets/PixPin_2024-11-16_10-53-20-20241116105321-5z9gbgx.png)â€‹

â€‹![PixPin_2024-11-16_10-59-55](https://fastly.jsdelivr.net/gh/Achuan-2/PicBed@pic/assets/PixPin_2024-11-16_10-59-55-20241116105956-loz4otb.png)â€‹

## CHANGELOG.md

ç°åœ¨çš„ä»£ç é¡¹ç›®æˆ‘éƒ½ä¼šåˆ›å»ºä¸€ä¸ª`CHANGELOG.md`â€‹ï¼Œè¿™ä¸ªæ–‡ä»¶æˆ‘ä¼šè®°å½•è‡ªå·±æ¯æ¬¡æ›´æ–°äº†ä»€ä¹ˆï¼Œæ¯ä¸ªç‰ˆæœ¬æ–°å¢äº†ä»€ä¹ˆåŠŸèƒ½ã€ä¿®å¤çš„é”™è¯¯ã€æ”¹è¿›çš„æ€§èƒ½ï¼Œè¿™æ ·å¯ä»¥è®°å½•è¿™ä¸ªä»£ç é¡¹ç›®çš„ç‰ˆæœ¬æ¼”å˜ï¼Œæœ‰ä¸ªæ¸…æ™°çš„å˜æ›´è®°å½•ã€‚æˆ‘ä¹ æƒ¯ä½¿ç”¨Gitmojiçš„æ–¹å¼è®°å½•å’Œæäº¤commitï¼Œå³ä½¿ç”¨emojiä»¥æœ‰è¶£ç›´è§‚çš„æ–¹å¼æ¥å¯¹æ¯ä¸ªcommitè¿›è¡Œåˆ†ç±»ã€‚å¯ä»¥ä¸€çœ¼åŒºåˆ†æ˜¯ğŸ›bugï¼Œâœ¨åŠŸèƒ½æ”¹è¿›ï¼Œè¿˜æ˜¯ğŸ“æ–‡æ¡£å®Œå–„ã€‚

ä¸ºäº†æ–¹ä¾¿è¾“å…¥emojiï¼Œæˆ‘ä¼šç”¨ä¸¤ä¸ªæ’ä»¶

* [mattbierner/vscode-emojisense](https://github.com/mattbierner/vscode-emojisense)ï¼šæ”¯æŒåœ¨markdownæ–‡ä»¶é‡Œè¾“å…¥`:`â€‹ï¼Œå°±æœ‰emojiæç¤ºï¼Œè¾“å…¥`:bug:`â€‹å°±å˜ä¸ºğŸ›
* [seatonjiang/gitmoji-vscode](https://github.com/seatonjiang/gitmoji-vscode)ï¼šå¯ä»¥åœ¨Git commitçš„ç•Œé¢é€‰æ‹©emojiï¼Œå¹¶æä¾›æ¯ä¸ªemojiçš„ä»£è¡¨æ„ä¹‰

â€‹![PixPin_2024-11-16_11-02-45](https://fastly.jsdelivr.net/gh/Achuan-2/PicBed@pic/assets/PixPin_2024-11-16_11-02-45-20241116110248-m0i0wk4.png)â€‹

## release.sh

ä¸ºäº†ä¿å­˜æ¯ä¸ªç‰ˆæœ¬é‚£æ—¶çš„ä»£ç ï¼Œæˆ‘è¿˜ä¼šåœ¨æ¯æ¬¡ç‰ˆæœ¬å‘å¸ƒçš„æ—¶å€™ï¼Œæ‰“ä¸Štagï¼Œgitæ‰“tagçš„å‘½ä»¤æ˜¯

```bash
# æ‰“tag
git tag <tagname>
# æäº¤tag
git push origin --tags
```

ä¸ºäº†ç®€ä¾¿æ‰“tagå‘å¸ƒåˆ°GitHubçš„æµç¨‹ï¼Œæˆ‘è¿˜ä¼šåˆ›å»ºä¸€ä¸ª`release.sh`â€‹è„šæœ¬ï¼Œè¿è¡Œå°±è‡ªåŠ¨æ‰“ä¸Štagï¼Œä¸éœ€è¦æ¯æ¬¡éƒ½è¾“å…¥ä»£ç å‘½ä»¤

```bash
# Change directory to the script's directory
cd "$(dirname $0)" 

# Get version from theme.json
version=v1.0.6

# Commit changes
git add .
git commit -m "ğŸ”– $version" 
git push

# åˆ¤æ–­ tag æ˜¯å¦å­˜åœ¨
if git rev-parse --quiet --verify $version >/dev/null; then
    # åˆ é™¤æœ¬åœ°ä»“åº“ä¸­çš„ tag
    git tag -d $version
    # åˆ é™¤è¿œç¨‹ä»“åº“ä¸­çš„ tag
    git push origin ":refs/tags/$version"
fi

# åˆ›å»ºæ–°çš„ tag
git tag $version # Create a tag

# æ¨é€æ–°çš„ tag åˆ°è¿œç¨‹ä»“åº“
git push origin --tags 
```

è¿™æ ·ï¼Œæˆ‘åœ¨Githubå°±å¯ä»¥ä¿å­˜æ¯ä¸ªç‰ˆæœ¬çš„å¿«ç…§ï¼Œä¸‡ä¸€æœ‰é—®é¢˜ï¼Œä¹Ÿå¯ä»¥å›æº¯

â€‹![PixPin_2024-11-16_11-12-28](https://fastly.jsdelivr.net/gh/Achuan-2/PicBed@pic/assets/PixPin_2024-11-16_11-12-28-20241116111229-mk3d08y.png)â€‹

## é€šè¿‡Github Actionå‘å¸ƒRelease

å¦‚æœæœ‰å¿…è¦ä¹Ÿå¯ä»¥åˆ›å»ºReleaseå‘ç‰ˆï¼Œå¯ä»¥å†™ä¸€ä¸ªGithub Actionåˆ›å»ºæ­¥éª¤ï¼Œæ‰“å®Œæ ‡ç­¾ï¼Œå°±è‡ªåŠ¨å‘ç‰ˆ

Github Actionåˆ›å»ºæ­¥éª¤

* åœ¨ä½ çš„é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹`.github/workflows`â€‹ã€‚
* åœ¨è¯¥æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„YAMLæ–‡ä»¶ï¼Œä¾‹å¦‚`release.yml`â€‹ã€‚

â€‹`release.yml`â€‹çš„å†…å®¹

```yml
name: Create Release on Tag

on:
  push:
    tags:
      - 'v*'  # ç›‘å¬ä»¥vå¼€å¤´çš„æ ‡ç­¾

jobs:
  release:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v2

    - name: Create GitHub Release
      uses: actions/create-release@v1
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      with:
        tag_name: ${{ github.ref }}
        release_name: ${{ github.ref }}
        draft: false
        prerelease: false
```

è‡ªåŠ¨å‘ç‰ˆ

â€‹![PixPin_2024-11-16_12-04-55](https://fastly.jsdelivr.net/gh/Achuan-2/PicBed@pic/assets/PixPin_2024-11-16_12-04-55-20241116120500-jhhkqk6.png)â€‹
